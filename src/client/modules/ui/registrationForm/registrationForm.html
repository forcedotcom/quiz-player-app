<template>
    <div if:true={formError} class="error">{formError}</div>
    <form onsubmit={handleSubmit} autocomplete="off">
        <div>
            <ui-input
                label="Nickname"
                onchange={handleNicknameChange}
                read-only={isRegistering}
                is-valid={isNicknameValid}
                error={nicknameError}
                max-length="20"
                autocomplete="nickname"
            >
            </ui-input>
            <template if:true={shouldCollectPlayerEmails}>
                <ui-input
                    label="Email"
                    onchange={handleEmailChange}
                    read-only={isRegistering}
                    is-valid={isEmailValid}
                    error={emailError}
                    autocomplete="email"
                >
                </ui-input>
            </template>
        </div>
        <div class="form-footer">
            <template if:true={isLoading}>
                <ui-spinner></ui-spinner>
            </template>
            <template if:false={isLoading}>
                <button disabled={isRegistrationDisabled}>Register</button>
            </template>
        </div>
    </form>
</template>
